(this["webpackJsonpmarvel-app"]=this["webpackJsonpmarvel-app"]||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(12),r=n.n(c),o=n(4),i=n(6);n(43);n(44);var s=n(2),u=function(e){var t=e.onChange,n=Object(a.useState)(!1),c=Object(i.a)(n,2),r=c[0],o=c[1];return Object(s.jsx)("input",{className:"search ".concat(r?"search--active":""),type:"search",placeholder:"search characters",onChange:t,onFocus:function(){return o(!0)},onBlur:function(){return o(!1)}})},l=(n(46),n(47),function(e){var t=e.element,n=e.onBookmarkChange,a=e.isBookmarked,c=t.thumbnail,r=t.name,o=c.path+"."+c.extension;return Object(s.jsxs)("figure",{className:"card",children:[Object(s.jsx)("div",{className:"card__img",children:Object(s.jsx)("img",{src:o,alt:"img"})}),Object(s.jsx)("figcaption",{className:"card__name",children:r}),Object(s.jsx)("button",{className:"card__bookmark ".concat(a?"bookmarked":null),onClick:function(){return n(a,t)},children:"bookmark"})]})}),j=function(e){var t=e.characters,n=e.onBookmarkChange,a=e.isBookmarkedFunction;return Object(s.jsx)("div",{className:"cardList",children:t.map((function(e){var t=a(e);return Object(s.jsx)(l,{element:e,isBookmarked:t,onBookmarkChange:n},e.id)}))})},d=n(89),h=n(91),m=n(92),b=(n(48),Object(d.a)((function(e){return{root:{"& > * + *":{marginTop:e.spacing(2)}}}})));function f(e){var t=e.page,n=e.handleChange,a=e.count,c=b();return Object(s.jsxs)("div",{className:c.root,children:[Object(s.jsxs)(h.a,{children:["Page: ",t]}),Object(s.jsx)(m.a,{count:a,page:t,onChange:n})]})}var O=n(36),g=n.n(O),v=(n(69),function(){return Object(s.jsx)("div",{className:"loader-container",children:Object(s.jsx)("div",{className:"loader"})})}),p=(n(70),function(){return Object(s.jsx)("div",{className:"no-result-screen",children:Object(s.jsx)("p",{className:"no-result-screen__content",children:"No Results, Try Search Again"})})}),k=function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=n.serialize,r=void 0===c?JSON.stringify:c,o=n.deserialize,s=void 0===o?JSON.parse:o,u=Object(a.useState)((function(){var n=window.localStorage.getItem(e);return n?s(n):"function"===typeof t?t():t})),l=Object(i.a)(u,2),j=l[0],d=l[1],h=Object(a.useRef)(e);return Object(a.useEffect)((function(){var t=h.current;t!==e&&window.localStorage.removeItem(t),h.current=e,window.localStorage.setItem(e,r(j))}),[j,r,e]),[j,d]}("marvel_characters"),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),l=Object(i.a)(r,2),d=l[0],h=l[1],m=Object(a.useState)(1),b=Object(i.a)(m,2),O=b[0],k=b[1],x=Object(a.useState)(0),N=Object(i.a)(x,2),S=N[0],C=N[1],_=Object(a.useState)([]),B=Object(i.a)(_,2),w=B[0],y=B[1],E=Object(a.useState)(!1),R=Object(i.a)(E,2),A=R[0],F=R[1];Object(a.useEffect)((function(){var e=!0,t=d.trim();if(t){F(!0);var a=20*(O-1);g()({url:"https://gateway.marvel.com:443/v1/public/characters",params:{apikey:"fca86e3537b62c5378f812c07e1786fa",nameStartsWith:t,limit:20,offset:a}}).then((function(t){var n=t.data.data,a=n.results,c=n.total;e&&(y(a),C(Math.ceil(c/20)),F(!1))})).catch((function(e){y([]),F(!1)}))}else y([]),C(Math.ceil(n.length/20)),F(!1);return function(){e=!1}}),[d,O]);var I=n.slice(20*(O-1),20*(O-1)+20),J=!!d.trim()&&!w.length;return Object(s.jsxs)("div",{className:"app",children:[Object(s.jsx)("header",{className:"main-header",children:Object(s.jsx)("h1",{className:"main-header__title",children:"MARVEL CHARACTERS"})}),Object(s.jsx)(u,{onChange:function(e){k(1),C(0),h(e.target.value)}}),A?Object(s.jsx)(v,{}):J?Object(s.jsx)(p,{}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(j,{characters:d?w:I,onBookmarkChange:function(e,t){e?(1===n.length&&C(0),c(n.filter((function(e){return t.id!==e.id})))):c([].concat(Object(o.a)(n),[t]))},isBookmarkedFunction:function(e){return n.some((function(t){return t.id===e.id}))}}),!!S&&Object(s.jsx)(f,{handleChange:function(e,t){k(t)},page:O,count:S})]})]})};r.a.render(Object(s.jsx)(k,{}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.bd44451a.chunk.js.map